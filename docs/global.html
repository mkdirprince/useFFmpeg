<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="extractMimeType"><span class="type-signature"></span>extractMimeType<span class="signature">(file)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Extracts the MIME type from a file name or path based on its extension.

This function takes a file name or file path as input, extracts its extension,
and looks up the corresponding MIME type from a predefined object. If the
extension is not found or unsupported, it throws an error.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The file name or path to extract the MIME type from.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_extractMimeType.js.html">utils/extractMimeType.js</a>, <a href="utils_extractMimeType.js.html#line39">line 39</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        Throws an error if the file has no extension or the extension is unsupported.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    An object containing the MIME type of the file.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>import { extractMimeType } from "./utils";

// Example 1: Extracting MIME type for a supported file
const file1 = "example.pdf";
console.log(extractMimeType(file1)); // { mimeType: "application/pdf" }

// Example 2: Extracting MIME type for an unsupported file
const file2 = "example.unknown";
try {
  extractMimeType(file2);
} catch (err) {
  console.error(err.message); // "Unsupported file extension"
}

// Example 3: File with no extension
const file3 = "example";
try {
  extractMimeType(file3);
} catch (err) {
  console.error(err.message); // "No extension found in file"
}</code></pre>



        
            

    

    
    <h4 class="name" id="load"><span class="type-signature"></span>load<span class="signature">(baseUrl<span class="signature-attributes">opt</span>, mt<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;FFmpeg>}</span></h4>
    

    



<div class="description">
    Loads the FFmpeg library with optional multi-threading support.

This function initializes a new instance of FFmpeg, sets up event listeners for logging,
and loads the necessary core and WASM files from a given URL. If multi-threading is enabled,
it will load an additional worker script. If multi-threading (`mt`) is set to true, a base URL must
be provided for the FFmpeg core and worker scripts.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "https://unpkg.com/@ffmpeg/core@0.12.10/dist/esm"
                
                </td>
            

            <td class="description last">The base URL to load the FFmpeg core and WASM files from.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mt</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">A flag to indicate if multi-threading should be enabled. If true, a worker script will be loaded. If multi-threading is enabled, `baseUrl` must be provided.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_ffmpegSetup.js.html">lib/ffmpegSetup.js</a>, <a href="lib_ffmpegSetup.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        - Throws an error if the FFmpeg core or WASM files fail to load or if an error occurs during FFmpeg operations.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    - A Promise that resolves to the initialized FFmpeg instance.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;FFmpeg></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ffmpeg = await load()
// By default, the base URL is provided for single-threaded transcoding. To use multi-threading, a base URL MUST be provided and `mt` should be set to true.
// You can now use the `ffmpeg` instance for transcoding tasks.</code></pre>



        
            

    

    
    <h4 class="name" id="transcode"><span class="type-signature"></span>transcode<span class="signature">(ffmpeg, file, outputFileFullName, cmdOptions<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Transcodes a file using FFmpeg and returns the output as a downloadable URL and its human-readable size.

This function handles the file conversion process using FFmpeg, including writing the file to FFmpeg's virtual file system,
executing the FFmpeg command, and cleaning up temporary files after the conversion.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ffmpeg</code></td>
            

            <td class="type">
            
                
<span class="param-type">FFmpeg</span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The initialized FFmpeg instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">File</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The input file to be transcoded.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputFileFullName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The name of the output file, including its extension.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cmdOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional array of additional FFmpeg command-line options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_transcode.js.html">utils/transcode.js</a>, <a href="utils_transcode.js.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        If FFmpeg is not loaded, or if any error occurs during the transcoding process.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


    





        
            

    

    
    <h4 class="name" id="useFFmpeg"><span class="type-signature"></span>useFFmpeg<span class="signature">()</span><span class="type-signature"> &rarr; {UseFFmpeg}</span></h4>
    

    



<div class="description">
    Custom React hook for loading FFmpeg and performing file transcoding operations.

Provides methods for initializing FFmpeg and transcoding files using FFmpeg once it is loaded.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="hooks_useFFmpeg.js.html">hooks/useFFmpeg.js</a>, <a href="hooks_useFFmpeg.js.html#line27">line 27</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An object containing:
  - `loaded` (boolean): Indicates whether FFmpeg is loaded and ready to use.
  - `loadFFmpeg(baseUrl?: string, mt?: boolean): Promise<void>`: A function to load FFmpeg.
  - `transcode(file: File, outputFileFullName: string, cmdOptions?: string[]): Promise<Buffer>`: A function to transcode files using FFmpeg.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">UseFFmpeg</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#extractMimeType">extractMimeType</a></li><li><a href="global.html#load">load</a></li><li><a href="global.html#transcode">transcode</a></li><li><a href="global.html#useFFmpeg">useFFmpeg</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Jan 14 2025 15:58:28 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>